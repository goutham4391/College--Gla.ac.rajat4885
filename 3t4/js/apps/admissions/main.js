(()=>{var e={999:(e,t)=>{"use strict";var n=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;t.validate=function(e){if(!e)return!1;if(e.length>254)return!1;if(!n.test(e))return!1;var t=e.split("@");return!(t[0].length>64||t[1].split(".").some((function(e){return e.length>63})))}}},t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}(()=>{function e(e,n){if(e){if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,n):void 0}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var a=n(999);document.addEventListener("DOMContentLoaded",(function(){var n=new URLSearchParams(window.location.search).get("level"),o=document.getElementById("admissions-enquiry-form"),r=document.getElementById("admissions-thankyou"),s=document.getElementById("admissions-response-error"),i=document.getElementById("admissions-career"),c=(document.getElementById("admissions-subject"),document.getElementById("admissions-category-container")),l=document.getElementById("admissions-subcategory-container"),d=document.getElementById("admissions-subject-container"),u=document.getElementById("admissions-have-applied"),m=document.getElementById("admissions-entry-year"),y=document.getElementById("admissions-opt-in-container"),g=document.getElementById("admissions-opt-in");function p(e){return e.map((function(e){return'<option value="'.concat(e.value,'">').concat(e.name,"</option>")}))}document.getElementById("admissions-enquiry-submit"),onSubmit=function(){!function(){var n,i=!0,c=!0,l=document.getElementById("admissions-validate-error");(n=o.querySelectorAll(".validate"),function(e){if(Array.isArray(e))return t(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||e(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e){""===e.value?(e.classList.add("error"),i=!1):e.classList.remove("error")}));var d=document.getElementById("admissions-email");if(a.validate(d.value)?d.classList.remove("error"):(d.classList.add("error"),c=!1,i=!1),i){var u=grecaptcha.getResponse();l.style.display="none";var m=new FormData(o),y={};m.forEach((function(e,t){y[t]=e}));var g={name:y.name,email:y.email,summary:"".concat(y.career," - ").concat(y.category).concat(y.subcategory?" - ".concat(y.subcategory):""),category:y.category,subcategory:y.subcategory,AA_RepresentativePhone:y.subject,career:y.career,country:y.country,hasapplied:y.haveapplied,symptom:y.enquiry,id:y.id,optin:"yes"==y.optin,year:y.year,"g-recaptcha-response":u};console.log(g),fetch("send/index.html",{method:"post",body:JSON.stringify(g)}).then((function(e){return e.json()})).then((function(e){"success"==e.message?(o.style.display="none",r.style.display="block",window.scrollTo({top:0,behavior:"smooth"})):(o.style.display="none",s.style.display="block",window.scrollTo({top:0,behavior:"smooth"}))}))}else grecaptcha.reset(),l.style.display="block",l.innerHTML=c?"<p>Please complete all highlighted fields</p>":"<p>Please use a valid email address</p>"}()},o.addEventListener("submit",(function(e){e.preventDefault(),grecaptcha.execute()})),u.addEventListener("change",(function(e){"no"==e.target.value?y.style.display="block":(y.style.display="none",m.classList.remove("validate"),v.style.display="none",g.checked=!1)})),i.addEventListener("change",(function(t){if(""!=t.target.value){var n=t.target.value.includes("PGT")?"PGT":t.target.value,a="admissions-category-select";d.style.display="block",c.innerHTML=function(t,n,a){for(var o=[],r=0,s=Object.entries(t);r<s.length;r++){var i=(l=s[r],d=2,function(e){if(Array.isArray(e))return e}(l)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,r=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);s=!0);}catch(e){i=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw o}}return r}}(l,d)||e(l,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0];i[1],o.push({name:c,value:c})}var l,d,u=p(o);return'<select name="'.concat("category",'" id="').concat("admissions-category-select",'" class="validate" aria-label="Select category">\n                    <option value="">Select category ...</option>\n                    ').concat(u.join(""),"\n                </select>")}(admissionsoptions[n]),l.innerHTML="",document.getElementById(a).addEventListener("change",(function(e){var t;""!=e.target.value?l.innerHTML=(t=admissionsoptions[n][e.target.value],"subcategory","admissions-subcategory",selectoptions=p(t),selectoptions.length>0?'<select name="'.concat("subcategory",'" id="').concat("admissions-subcategory",'" aria-label="Select subcategory">\n                <option value="">Select sub-category ...</option>\n                ').concat(selectoptions.join(""),"\n            </select>"):""):l.innerHTML=""}))}else c.innerHTML="",l.innerHTML="",d.style.display=none}));var v=document.getElementById("admissions-marketing-container");if(g.addEventListener("change",(function(e){e.target.checked?(v.style.display="block",document.getElementById("admissions-entry-year").classList.add("validate")):(v.style.display="none",document.getElementById("admissions-entry-year").classList.remove("validate"))})),n){i.value=n;var f=new Event("change");i.dispatchEvent(f)}}))})()})();